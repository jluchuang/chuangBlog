{% extends 'base.html' %}
{% block content %}
    <div id = "list">
	</div>
	<script type="text/javascript">
		//列表
    	var blogList = {{ blogList|safe }};

        $(document).ready(function(){
            initList();
        })

        function initList(){
            var htmStr = "";

            for (var i = blogList.length - 1; i >= 0; i--) {
                htmStr += "<div class = \"article-block\">"; 
                var title = blogList[i].title;
                htmStr += "<p class=\"title\"><a href = \"/blogList/" + title+ "/ \">"+title+"</a></p>"; 

                var summary = blogList[i].summary;
                htmStr += "<p class=\"abstract\">摘要：" + summary + "</p>"; 

                var keywords = blogList[i].key_words;
                var tag = blogList[i].tag;
                var tag_id = blogList[i].tag_id
                htmStr += "<p class='meta'> 分类：";
                htmStr += "<a href='/tagList/" + tag + "/?tag_id=" + tag_id + "'>" + tag + "</a>"; 
                htmStr += " | 关键词： <a class='tag'>" + keywords + "</a>"; 
                htmStr += "</p>";

                htmStr += "</div>"; 
                console.log(title);
            }
            $("#list").append(htmStr);
        }
	</script>
{% endblock %}